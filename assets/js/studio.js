(()=>{function e(e,t,n,r,i,a,u){try{var o=e[a](u),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,i)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(i,a){var u=t.apply(n,r);function o(t){e(u,i,a,o,c,"next",t)}function c(t){e(u,i,a,o,c,"throw",t)}o(void 0)}))}}function n(e){return r.apply(this,arguments)}function r(){return(r=t(regeneratorRuntime.mark((function e(t){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target,r=t.target.parentElement.parentElement.parentElement,i=r.querySelector("video"),a=i.dataset.id,n.value){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("/api/changeVisibility",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,visibility:n.value})});case 7:if(201!==e.sent.status){e.next=10;break}return e.abrupt("return",alert("비디오 공개 여부가 변경됐습니다."));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.querySelectorAll("#visibilitySelect").forEach((function(e){return e.addEventListener("change",n)}))})();