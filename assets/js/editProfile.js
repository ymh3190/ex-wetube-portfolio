/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/public/js/editProfile.js":
/*!**************************************!*\
  !*** ./src/public/js/editProfile.js ***!
  \**************************************/
/***/ (() => {

eval("function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar accountInfoForm = document.getElementById(\"accountInfo\");\nvar lastNameInput = document.getElementById(\"lastNameInput\");\nvar firstNameInput = document.getElementById(\"firstNameInput\");\nvar usernameInput = document.getElementById(\"usernameInput\");\n\nfunction handleSubmitSaveInfo(_x) {\n  return _handleSubmitSaveInfo.apply(this, arguments);\n}\n\nfunction _handleSubmitSaveInfo() {\n  _handleSubmitSaveInfo = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(e) {\n    var lastName, firstName, username, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            e.preventDefault();\n            lastName = lastNameInput.value;\n            firstName = firstNameInput.value;\n            username = usernameInput.value;\n\n            if (lastName) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", lastNameInput.placeholder = \"성을 입력하세요.\");\n\n          case 8:\n            if (firstName) {\n              _context.next = 12;\n              break;\n            }\n\n            return _context.abrupt(\"return\", firstNameInput.placeholder = \"이름을 입력하세요.\");\n\n          case 12:\n            if (username) {\n              _context.next = 14;\n              break;\n            }\n\n            return _context.abrupt(\"return\", usernameInput.placeholder = \"유저 이름을 입력하세요.\");\n\n          case 14:\n            _context.next = 16;\n            return fetch(\"/api/save-info\", {\n              method: \"post\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                firstName: firstName,\n                lastName: lastName,\n                username: username\n              })\n            });\n\n          case 16:\n            response = _context.sent;\n\n            if (!(response.status === 201)) {\n              _context.next = 19;\n              break;\n            }\n\n            return _context.abrupt(\"return\", alert(\"계정 정보가 변경됐습니다.\"));\n\n          case 19:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _handleSubmitSaveInfo.apply(this, arguments);\n}\n\naccountInfoForm.addEventListener(\"submit\", handleSubmitSaveInfo);\nvar emailForm = document.getElementById(\"emailForm\");\nvar emailInput = document.getElementById(\"emailInput\");\nvar changeEmailBtn = document.getElementById(\"changeEmail\");\n\nfunction handleSubmitChangeEmail(_x2) {\n  return _handleSubmitChangeEmail.apply(this, arguments);\n}\n\nfunction _handleSubmitChangeEmail() {\n  _handleSubmitChangeEmail = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(e) {\n    var email, response;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            e.preventDefault();\n            email = emailInput.value;\n\n            if (email) {\n              _context2.next = 4;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", emailInput.placeholder = \"이메일을 입력하세요.\");\n\n          case 4:\n            _context2.next = 6;\n            return fetch(\"/api/changeEmail\", {\n              method: \"post\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                email: email\n              })\n            });\n\n          case 6:\n            response = _context2.sent;\n\n            if (!(response.status === 201)) {\n              _context2.next = 11;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", alert(\"이메일을 변경했습니다.\"));\n\n          case 11:\n            if (!(response.status === 400)) {\n              _context2.next = 13;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", alert(\"이미 존재하는 이메일입니다.\"));\n\n          case 13:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _handleSubmitChangeEmail.apply(this, arguments);\n}\n\nemailForm.addEventListener(\"submit\", handleSubmitChangeEmail);\nvar passwordForm = document.getElementById(\"passwordForm\");\nvar passwordInput = document.getElementById(\"passwordInput\");\nvar confirmInput = document.getElementById(\"confirmInput\");\n\nfunction handleSubmitChangePassword(_x3) {\n  return _handleSubmitChangePassword.apply(this, arguments);\n}\n\nfunction _handleSubmitChangePassword() {\n  _handleSubmitChangePassword = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(e) {\n    var password, confirm, response, _yield$response$json, errorMessage;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            e.preventDefault();\n            password = passwordInput.value;\n            confirm = confirmInput.value;\n\n            if (password) {\n              _context3.next = 7;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", password.placeholder = \"비밀번호를 입력하세요.\");\n\n          case 7:\n            if (!(password !== confirm)) {\n              _context3.next = 9;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", confirmInput.placeholder = \"비밀번호가 일치하지 않습니다.\");\n\n          case 9:\n            _context3.next = 11;\n            return fetch(\"/api/changePassword\", {\n              method: \"post\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                password: password\n              })\n            });\n\n          case 11:\n            response = _context3.sent;\n\n            if (!(response.status === 201)) {\n              _context3.next = 16;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", alert(\"비밀번호를 변경했습니다.\"));\n\n          case 16:\n            if (!(response.status === 400)) {\n              _context3.next = 22;\n              break;\n            }\n\n            _context3.next = 19;\n            return response.json();\n\n          case 19:\n            _yield$response$json = _context3.sent;\n            errorMessage = _yield$response$json.errorMessage;\n            return _context3.abrupt(\"return\", alert(errorMessage));\n\n          case 22:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n  return _handleSubmitChangePassword.apply(this, arguments);\n}\n\nif (passwordForm) {\n  passwordForm.addEventListener(\"submit\", handleSubmitChangePassword);\n}\n\nvar photoForm = document.getElementById(\"photoForm\");\nvar photoImg = document.getElementById(\"photoImg\");\nvar photoFileInput = document.getElementById(\"photoFileInput\");\n\nfunction handleSubmitUpdatePhoto(_x4) {\n  return _handleSubmitUpdatePhoto.apply(this, arguments);\n}\n\nfunction _handleSubmitUpdatePhoto() {\n  _handleSubmitUpdatePhoto = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(e) {\n    var formData, response, _yield$response$json2, path;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            e.preventDefault();\n            formData = new FormData(photoForm);\n            formData.append(\"file\", photoFileInput);\n            photoFileInput.value = \"\";\n            _context4.next = 6;\n            return fetch(\"/api/updatePhoto\", {\n              method: \"post\",\n              body: formData\n            });\n\n          case 6:\n            response = _context4.sent;\n\n            if (!(response.status === 201)) {\n              _context4.next = 13;\n              break;\n            }\n\n            _context4.next = 10;\n            return response.json();\n\n          case 10:\n            _yield$response$json2 = _context4.sent;\n            path = _yield$response$json2.path;\n            photoImg.src = path;\n\n          case 13:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n  return _handleSubmitUpdatePhoto.apply(this, arguments);\n}\n\nphotoForm.addEventListener(\"submit\", handleSubmitUpdatePhoto);\nvar deleteAccountForm = document.getElementById(\"deleteAccountForm\");\nvar deleteAccountInput = document.getElementById(\"deleteAccountInput\");\n\nfunction handleSubmitDeleteAccount(_x5) {\n  return _handleSubmitDeleteAccount.apply(this, arguments);\n}\n\nfunction _handleSubmitDeleteAccount() {\n  _handleSubmitDeleteAccount = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(e) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            e.preventDefault();\n\n            if (!deleteAccountInput.checked) {\n              _context5.next = 6;\n              break;\n            }\n\n            _context5.next = 4;\n            return fetch(\"/api/deleteAccount\");\n\n          case 4:\n            response = _context5.sent;\n\n            if (response.status === 200) {\n              alert(\"계정을 삭제했습니다.\");\n              window.location.href = \"/\";\n            }\n\n          case 6:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n  return _handleSubmitDeleteAccount.apply(this, arguments);\n}\n\ndeleteAccountForm.addEventListener(\"submit\", handleSubmitDeleteAccount);\n\n//# sourceURL=webpack://wetube/./src/public/js/editProfile.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/public/js/editProfile.js"]();
/******/ 	
/******/ })()
;